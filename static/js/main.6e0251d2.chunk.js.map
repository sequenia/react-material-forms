{"version":3,"sources":["../../src/hocs/with_helper_text.js","../../src/nested_model_field.js","../../node_modules/uuid/lib/bytesToUuid.js","../../node_modules/uuid/lib/rng-browser.js","../../node_modules/uuid/v4.js","../../src/buttons/button.js","../../src/buttons/constants.js","../../node_modules/@babel/runtime/helpers/interopRequireDefault.js","../../node_modules/@babel/runtime/helpers/extends.js","../../node_modules/@material-ui/icons/utils/createSvgIcon.js","../../node_modules/@material-ui/icons/Clear.js","../../src/nested_models_array_item.js","../../src/hocs/with_window_resize_handler.js","../../src/nested_models_array_field.js","../../src/form_fields.js","address_model.js","company_person_model.js","App.js","index.js"],"names":["WithHelperText","Component","constructor","this","displayName","required","descriptionComponentFunc","errorMessage","error","hasError","descriptionText","errors","errorsText","err","props","React","value","JSON","state","nextState","readOnly","prevProps","onChange","changedItem","className","clsx","classes","formFields","item","onItemChange","errorData","autoSaveTimeout","allowAutoSave","defaultWeight","parentField","NestedModelField","PropTypes","object","compose","withStyles","theme","root","getRandomValues","crypto","bind","msCrypto","window","rnds8","Uint8Array","module","rnds","Array","r","i","Math","random","byteToHex","toString","substr","buf","offset","bth","join","options","rng","ii","bytesToUuid","disabled","nextProps","ariaHaspopup","children","additionalClasses","variant","component","type","startIcon","onClick","aria-controls","aria-haspopup","Button","labelClass","ariaControls","bool","styledButton","obj","__esModule","_extends","Object","assign","target","arguments","length","source","key","prototype","hasOwnProperty","call","apply","defineProperty","exports","path","_react","default","memo","forwardRef","ref","createElement","_SvgIcon","_extends2","muiName","_interopRequireDefault","require$$0","require$$1","require$$2","_default","d","updateDimensions","onDelete","width","height","prevState","innerRef","ModelArrayContext","context","itemContainer","fieldsContainer","onValueTimeUp","allowDelete","onDeleteItem","NestedModelsArrayItem","maxWeight","ForwardedRef","clientWidth","clientHeight","o","Node","HTMLElement","onUpdateDimensions","display","padding","position","alignItems","flexGrow","deleteButton","marginLeft","ReactGridLayout","WidthProvider","newValue","newItem","defaultItem","newItems","index","val","layout","a","b","layoutItem","itemWeight","colsCount","x","y","h","metric","w","static","values","prepareItems","filter","clientId","uuidv4","addType","objectErrors","map","cols","rowHeight","isResizable","isDraggable","margin","containerPadding","onLayoutChange","onUpdateLayout","addButtonFunc","addContainer","NestedModelsArrayField","addText","grid","addButton","minWidth","fontSize","delayedForAutoSaveTypes","includes","field","clearTimeout","setTimeout","primaryKey","fields","fieldsErrorData","alternateName","name","container","gridWeb","remainsUnits","weight","forceNextLine","md","FormFields","formFieldContainer","marginBottom","withTheme","countriesEnum","AddressModel","data","DescribingModel","CompanyPersonModel","salutationEnum","errorDataExample","birthPlace","personalItems","salutation","firstName","lastName","birthDate","manager","address","country","city","postalCode","street","number","url","PersonalInfoModelInstance","displayNamePosition","format","allowClear","clearItem","optionDisplayName","option","first_name","last_name","downloader","searchQuery","selectedValueIds","params","query","valueIds","URL","keys","forEach","searchParams","append","encodeURIComponent","fetch","then","response","json","allowDragDrop","items","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6e0251d2.chunk.js","sourcesContent":["import React from 'react'\nimport { FormHelperText } from '@material-ui/core'\n\nconst WithHelperText = (Component) => {\n  class WithHelperText extends React.Component {\n    constructor(props) {\n      super(props)\n\n      this.helperText = this.helperText.bind(this)\n\n      this.state = {}\n    }\n\n    static getDerivedStateFromProps(props, state) {\n      const {\n        errors = [],\n        descriptionText,\n        descriptionComponentFunc,\n        required,\n        displayName\n      } = props\n      const errorsText = errors.filter((err) => {\n        return typeof err === 'string'\n      })\n      return {\n        errorMessage: errorsText.length > 0 ? errorsText.join(', ') : undefined,\n        descriptionText: descriptionText,\n        descriptionComponentFunc: descriptionComponentFunc,\n        hasError: errorsText.length > 0 || props.hasError,\n        displayName: displayName,\n        required: required\n      }\n    }\n\n    displayName() {\n      const { required, displayName } = this.state\n\n      if (displayName === undefined) {\n        return undefined\n      }\n\n      return `${displayName}${required ? ' *' : ''}`\n    }\n\n    helperText() {\n      const {\n        hasError,\n        errorMessage,\n        descriptionText,\n        descriptionComponentFunc\n      } = this.state\n      return (\n        <React.Fragment>\n          {errorMessage && (\n            <FormHelperText error={hasError}>{errorMessage}</FormHelperText>\n          )}\n          {descriptionText &&\n            descriptionComponentFunc &&\n            descriptionComponentFunc(descriptionText)}\n          {descriptionText && !descriptionComponentFunc && (\n            <FormHelperText>{descriptionText}</FormHelperText>\n          )}\n        </React.Fragment>\n      )\n    }\n\n    render() {\n      const { hasError } = this.state\n      return (\n        <React.Fragment>\n          <Component\n            {...this.props}\n            hasError={hasError}\n            displayName={this.displayName()}\n          />\n          {this.helperText()}\n        </React.Fragment>\n      )\n    }\n  }\n\n  return WithHelperText\n}\n\nexport default WithHelperText\n","import React from 'react'\nimport clsx from 'clsx'\nimport PropTypes from 'prop-types'\nimport { withStyles } from '@material-ui/styles'\nimport { compose } from 'recompose'\n\nimport withHelperText from './hocs/with_helper_text.js'\n\nimport { FormLabel } from '@material-ui/core'\n\nimport FormFields from './form_fields.js'\n\nconst styles = (theme) => ({\n  root: {}\n})\n\nclass NestedModelField extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.value = { ...{}, ...props.value }\n\n    this.state = {}\n\n    this.onChangeNestedModel = this.onChangeNestedModel.bind(this)\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    return {\n      parentField: { ...props.parentField },\n      formFields: [...props.formFields],\n      errorData: { ...props.errorData },\n      readOnly: props.readOnly\n    }\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return (\n      JSON.stringify(this.state.formFields) !==\n        JSON.stringify(nextState.formFields) ||\n      JSON.stringify(this.state.parentField) !==\n        JSON.stringify(nextState.parentField) ||\n      JSON.stringify(this.state.errorData) !==\n        JSON.stringify(nextState.errorData) ||\n      this.state.readOnly !== nextState.readOnly\n    )\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (\n      JSON.stringify(this.value || {}) !== JSON.stringify(prevProps.value || {})\n    ) {\n      this.value = {\n        ...this.props.value\n      }\n      this.forceUpdate()\n    }\n  }\n\n  onChangeNestedModel(changedItem) {\n    const { onChange } = this.props\n    this.value = { ...changedItem }\n    if (onChange) {\n      onChange(changedItem)\n    }\n  }\n\n  render() {\n    const {\n      classes,\n      className,\n      autoSaveTimeout,\n      allowAutoSave,\n      displayName\n    } = this.props\n\n    const { formFields, errorData, readOnly } = this.state\n\n    return (\n      <div className={clsx(classes.root, className)}>\n        {displayName && displayName !== '' && (\n          <FormLabel>{displayName}</FormLabel>\n        )}\n        {\n          <FormFields\n            formFields={formFields}\n            item={this.value}\n            onItemChange={this.onChangeNestedModel}\n            errorData={errorData}\n            autoSaveTimeout={autoSaveTimeout}\n            allowAutoSave={allowAutoSave}\n            defaultWeight={this.props.defaultWeight}\n            readOnly={readOnly}\n          />\n        }\n      </div>\n    )\n  }\n}\n\nNestedModelField.propTypes = {\n  formFields: PropTypes.arrayOf(PropTypes.object).isRequired,\n  parentField: PropTypes.object.isRequired,\n  onChange: PropTypes.func.isRequired,\n\n  autoSaveTimeout: PropTypes.number,\n  allowAutoSave: PropTypes.bool,\n  value: PropTypes.object\n}\n\nNestedModelField.defaultProps = {\n  autoSaveTimeout: 500,\n  allowAutoSave: false,\n  defaultWeight: 12\n}\n\nexport default compose(withHelperText, withStyles(styles))(NestedModelField)\n","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n  return ([\n    bth[buf[i++]], bth[buf[i++]],\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]],\n    bth[buf[i++]], bth[buf[i++]],\n    bth[buf[i++]], bth[buf[i++]]\n  ]).join('');\n}\n\nmodule.exports = bytesToUuid;\n","// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto\n// implementation. Also, find the complete implementation of crypto on IE11.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto));\n\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n","import React from 'react'\nimport clsx from 'clsx'\nimport PropTypes from 'prop-types'\nimport { withStyles } from '@material-ui/styles'\nimport { Button as MaterialButton } from '@material-ui/core'\n\nimport {\n  ButtonVariantContained,\n  ButtonVariantText,\n  ButtonVariantOutlined\n} from './constants.js'\n\nconst styles = (theme) => ({\n  root: {}\n})\n\nconst ButtonTypeButton = 'button'\nconst ButtonTypeSubmit = 'submit'\n\nclass Button extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {}\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    return {\n      disabled: props.disabled\n    }\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return (\n      this.state.disabled !== nextState.disabled ||\n      this.props.className !== nextProps.className\n    )\n  }\n\n  render() {\n    const {\n      classes,\n      className,\n      labelClass,\n      variant,\n      component,\n      startIcon,\n      ariaControls,\n      ariaHaspopup\n    } = this.props\n\n    const { type, onClick, children } = this.props\n\n    const { disabled } = this.state\n\n    const additionalClasses = {}\n    if (labelClass) {\n      additionalClasses.label = labelClass\n    }\n\n    return (\n      <MaterialButton\n        className={clsx(classes.root, className)}\n        classes={additionalClasses}\n        disabled={disabled}\n        variant={variant}\n        component={component}\n        type={type}\n        startIcon={startIcon}\n        onClick={onClick}\n        aria-controls={ariaControls}\n        aria-haspopup={ariaHaspopup}\n      >\n        {children}\n      </MaterialButton>\n    )\n  }\n}\n\nButton.propTypes = {\n  className: PropTypes.string,\n  labelClass: PropTypes.string,\n  type: PropTypes.oneOf([ButtonTypeButton, ButtonTypeSubmit]),\n  variant: PropTypes.oneOf([\n    ButtonVariantContained,\n    ButtonVariantText,\n    ButtonVariantOutlined\n  ]),\n  component: PropTypes.string,\n  startIcon: PropTypes.node,\n  ariaHaspopup: PropTypes.bool,\n  ariaControls: PropTypes.string,\n  onClick: PropTypes.func,\n  disabled: PropTypes.bool\n}\n\nButton.defaultProps = {\n  type: ButtonTypeButton,\n  variant: ButtonVariantContained,\n  ariaHaspopup: false,\n  disabled: false\n}\n\nconst styledButton = withStyles(styles)(Button)\nexport default styledButton\n","const ButtonVariantContained = 'contained'\nconst ButtonVariantOutlined = 'outlined'\nconst ButtonVariantText = 'text'\n\nexport { ButtonVariantContained, ButtonVariantOutlined, ButtonVariantText }\n","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nmodule.exports = _interopRequireDefault;","function _extends() {\n  module.exports = _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = createSvgIcon;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _SvgIcon = _interopRequireDefault(require(\"@material-ui/core/SvgIcon\"));\n\nfunction createSvgIcon(path, displayName) {\n  var Component = _react.default.memo(_react.default.forwardRef(function (props, ref) {\n    return _react.default.createElement(_SvgIcon.default, (0, _extends2.default)({\n      ref: ref\n    }, props), path);\n  }));\n\n  if (process.env.NODE_ENV !== 'production') {\n    Component.displayName = \"\".concat(displayName, \"Icon\");\n  }\n\n  Component.muiName = _SvgIcon.default.muiName;\n  return Component;\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n}), 'Clear');\n\nexports.default = _default;","import React from 'react'\nimport clsx from 'clsx'\nimport PropTypes from 'prop-types'\nimport { withStyles } from '@material-ui/styles'\n\nimport { IconButton } from '@material-ui/core'\nimport ClearIcon from '@material-ui/icons/Clear'\n\nimport { compose } from 'recompose'\nimport withWindowResizeHandler from './hocs/with_window_resize_handler.js'\n\nimport FormFields from './form_fields.js'\nimport { ModelArrayContext } from './nested_models_array_field.js'\n\nconst styles = (theme) => ({\n  root: {\n    display: 'block',\n    padding: '12px',\n    position: 'relative'\n  },\n  itemContainer: {\n    display: 'flex',\n    alignItems: 'flex-start'\n  },\n  fieldsContainer: {\n    flexGrow: 1\n  },\n  deleteButton: {\n    marginLeft: '10px'\n  }\n})\n\nclass NestedModelsArrayItem extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.item = { ...props.item }\n\n    this.state = {}\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    return {\n      parentField: { ...props.parentField },\n      formFields: [...props.formFields],\n      errorData: { ...props.errorData },\n      readOnly: props.readOnly\n    }\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return (\n      JSON.stringify(this.state.formFields) !==\n        JSON.stringify(nextState.formFields) ||\n      JSON.stringify(this.state.parentField) !==\n        JSON.stringify(nextState.parentField) ||\n      JSON.stringify(this.state.errorData) !==\n        JSON.stringify(nextState.errorData) ||\n      this.props.width !== nextProps.width ||\n      this.props.height !== nextProps.height ||\n      this.state.readOnly !== nextState.readOnly\n    )\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (\n      JSON.stringify(this.state.errorData) !==\n      JSON.stringify(prevState.errorData)\n    ) {\n      const { updateDimensions } = this.props\n      updateDimensions()\n    }\n  }\n\n  onChangeItem = (changedItem) => {\n    const { onChange, updateDimensions } = this.props\n    this.value = { ...changedItem }\n\n    updateDimensions()\n    if (onChange) {\n      onChange(this.value)\n    }\n  }\n\n  onDeleteItem = () => {\n    const { onDelete } = this.props\n    if (onDelete) {\n      onDelete()\n    }\n  }\n\n  render() {\n    const { classes, allowDelete, className, innerRef } = this.props\n\n    const { autoSaveTimeout, allowAutoSave } = this.props\n\n    const { formFields, errorData, readOnly } = this.state\n\n    return (\n      <ModelArrayContext.Consumer>\n        {(context) => (\n          <div className={clsx(classes.root, className)} ref={innerRef}>\n            <div className={classes.itemContainer}>\n              <div className={classes.fieldsContainer}>\n                <FormFields\n                  formFields={formFields}\n                  item={this.item}\n                  onItemChange={this.onChangeItem}\n                  errorData={errorData}\n                  autoSaveTimeout={autoSaveTimeout}\n                  allowAutoSave={allowAutoSave}\n                  onValueTimeUp={context.onValueTimeUp}\n                  readOnly={readOnly}\n                />\n              </div>\n              {allowDelete && (\n                <IconButton\n                  className={classes.deleteButton}\n                  onClick={this.onDeleteItem}\n                >\n                  <ClearIcon />\n                </IconButton>\n              )}\n            </div>\n          </div>\n        )}\n      </ModelArrayContext.Consumer>\n    )\n  }\n}\n\nNestedModelsArrayItem.propTypes = {\n  formFields: PropTypes.arrayOf(PropTypes.object).isRequired,\n  parentField: PropTypes.object.isRequired,\n  onChange: PropTypes.func.isRequired,\n\n  autoSaveTimeout: PropTypes.number,\n  allowAutoSave: PropTypes.bool\n}\n\nNestedModelsArrayItem.defaultProps = {\n  autoSaveTimeout: 500,\n  allowAutoSave: false,\n  defaultWeight: 12,\n  maxWeight: 12\n}\n\nconst ForwardedRef = React.forwardRef((props, ref) => (\n  <NestedModelsArrayItem innerRef={ref} {...props} />\n))\n\nexport default compose(\n  withWindowResizeHandler,\n  withStyles(styles)\n)(ForwardedRef)\n","import React from 'react'\n\nconst WithWindowResizeHandler = (Component) => {\n  class WithWindowResizeHandler extends React.Component {\n    constructor(props) {\n      super(props)\n      this.state = {\n        width: 0,\n        height: 0\n      }\n    }\n\n    updateDimensions = () => {\n      if (!this.component) {\n        return\n      }\n\n      const { clientWidth: width, clientHeight: height } = this.component\n\n      this.setState({\n        width: width,\n        height: height\n      })\n    }\n\n    componentDidMount() {\n      this.updateDimensions()\n      window.addEventListener('resize', this.updateDimensions)\n    }\n\n    componentWillUnmount() {\n      window.removeEventListener('resize', this.updateDimensions)\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n      const { onUpdateDimensions } = this.props\n      const { width, height } = this.state\n\n      if (onUpdateDimensions) {\n        onUpdateDimensions(width, height)\n      }\n    }\n\n    isNode = (o) => {\n      return typeof Node === 'object'\n        ? o instanceof Node\n        : o &&\n            typeof o === 'object' &&\n            typeof o.nodeType === 'number' &&\n            typeof o.nodeName === 'string'\n    }\n\n    // Returns true if it is a DOM element\n    isElement = (o) => {\n      return typeof HTMLElement === 'object'\n        ? o instanceof HTMLElement // DOM2\n        : o &&\n            typeof o === 'object' &&\n            o !== null &&\n            o.nodeType === 1 &&\n            typeof o.nodeName === 'string'\n    }\n\n    render() {\n      const { width, height } = this.state\n      return (\n        <Component\n          {...this.props}\n          ref={(ref) => (this.component = ref)}\n          width={width}\n          height={height}\n          updateDimensions={this.updateDimensions}\n        />\n      )\n    }\n  }\n\n  return WithWindowResizeHandler\n}\n\nexport default WithWindowResizeHandler\n","// https://github.com/STRML/react-grid-layout\nimport React from 'react'\nimport clsx from 'clsx'\nimport PropTypes from 'prop-types'\nimport { withStyles } from '@material-ui/styles'\n\nimport uuidv4 from 'uuid/v4'\nimport { FormLabel } from '@material-ui/core'\n\nimport RGL, { WidthProvider } from 'react-grid-layout'\nimport 'react-grid-layout/css/styles.css'\n\nimport { compose } from 'recompose'\nimport withHelperText from './hocs/with_helper_text.js'\n\nimport Button from './buttons/button.js'\nimport NestedModelsArrayItem from './nested_models_array_item.js'\nconst ReactGridLayout = WidthProvider(RGL)\n\nconst ModelArrayContext = React.createContext()\n\nconst AddTypeAuto = 'auto'\nconst AddTypeManual = 'manual'\n\nconst styles = (theme) => ({\n  root: {},\n  grid: {\n    margin: '0px -12px'\n  },\n  addContainer: {},\n  addButton: {\n    padding: '7px 10px',\n    minWidth: '125px',\n    fontSize: '18px'\n  }\n})\n\nclass NestedModelsArrayField extends React.Component {\n  constructor(props) {\n    super(props)\n    const { values = [] } = props\n\n    this.values = this.prepareItems(values)\n\n    this.metrics = {}\n    this.onChangeValuesCount()\n    this.state = {\n      layout: this.layoutByValues()\n    }\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    return {\n      ...state,\n      parentField: { ...props.parentField },\n      formFields: [...props.formFields],\n      objectErrors: [...props.objectErrors],\n      readOnly: props.readOnly\n    }\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return (\n      JSON.stringify(this.state.layout) !== JSON.stringify(nextState.layout) ||\n      JSON.stringify(this.state.formFields) !==\n        JSON.stringify(nextState.formFields) ||\n      JSON.stringify(this.state.parentField) !==\n        JSON.stringify(nextState.parentField) ||\n      JSON.stringify(this.state.objectErrors) !==\n        JSON.stringify(nextState.objectErrors) ||\n      this.props.width !== nextProps.width ||\n      this.props.height !== nextProps.height ||\n      this.props.hasError !== nextProps.hasError ||\n      this.state.readOnly !== nextState.readOnly ||\n      JSON.stringify(this.props.values) !== JSON.stringify(nextProps.values)\n    )\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (\n      JSON.stringify(this.props.values) !== JSON.stringify(prevProps.values)\n    ) {\n      const { values = [] } = this.props\n      this.values = this.prepareItems(values)\n      this.forceUpdate()\n    }\n  }\n\n  onAdd = (newValue = undefined) => {\n    if (Array.isArray(newValue)) {\n      this.onAddItems(newValue)\n    } else {\n      this.onAddItem(newValue)\n    }\n  }\n\n  onAddItem = (newItem = undefined) => {\n    const { onChange } = this.props\n\n    const { defaultItem } = this.props\n    const item = newItem || { ...defaultItem(this.values), default: true }\n    this.values.push(item)\n\n    this.onChangeValuesCount()\n    this.updateLayout()\n\n    if (onChange) {\n      onChange(this.valuesToSendUp())\n    }\n  }\n\n  onAddItems = (newItems) => {\n    const { onChange } = this.props\n    this.values = this.values.concat(newItems)\n\n    this.onChangeValuesCount()\n    this.updateLayout()\n\n    if (onChange) {\n      onChange(this.valuesToSendUp())\n    }\n  }\n\n  onChangeItem = (changedItem) => {\n    const { onChange } = this.props\n    const index = this.values.findIndex(\n      (val) => val.clientId === changedItem.clientId\n    )\n    this.values[index] = { ...changedItem, default: false }\n\n    if (onChange) {\n      onChange(this.valuesToSendUp())\n    }\n\n    if (this.isAutoAddType() && changedItem.default) {\n      this.onAddItem()\n    }\n  }\n\n  onDeleteItem = (value) => {\n    const { onChange } = this.props\n\n    const index = this.values.findIndex(\n      (val) => val.clientId === value.clientId\n    )\n\n    delete this.metrics[value.clientId]\n\n    this.values.splice(index, 1)\n\n    this.onChangeValuesCount()\n    this.updateLayout()\n    this.forceUpdate()\n\n    if (onChange) {\n      onChange(this.valuesToSendUp())\n    }\n  }\n\n  onUpdateItemMetrics = (key, width, height) => {\n    this.metrics[key] = {\n      width: width,\n      height: height\n    }\n    this.updateLayout()\n  }\n\n  onUpdateLayout = (layout) => {\n    const { onChange } = this.props\n\n    ;[...layout]\n      .sort((a, b) => {\n        return a.y - b.y || a.x - b.x\n      })\n      .forEach((layoutItem, index) => {\n        const val = this.valuesHash[layoutItem.i]\n        if (val) {\n          val.position = index\n        }\n      })\n    this.values = this.values.sort((a, b) => a.position - b.position)\n\n    this.updateLayout()\n\n    if (onChange) {\n      onChange(this.valuesToSendUp())\n    }\n  }\n\n  onValueTimeUp = (value) => {\n    this.onDeleteItem(value)\n  }\n\n  valuesToSendUp() {\n    if (this.isManualAddType()) {\n      return this.values\n    } else {\n      return this.values.filter((value) => !value.default)\n    }\n  }\n\n  prepareItems(items) {\n    return [...items].map((item) => {\n      if (item.clientId) {\n        return { ...item }\n      }\n      return {\n        ...item,\n        clientId: uuidv4()\n      }\n    })\n  }\n\n  isManualAddType() {\n    return this.props.addType === AddTypeManual\n  }\n\n  isAutoAddType() {\n    return this.props.addType === AddTypeAuto\n  }\n\n  onChangeValuesCount = () => {\n    this.valuesHash = {}\n    this.values.forEach((val) => {\n      this.valuesHash[val.clientId] = val\n    })\n  }\n\n  layoutByValues = () => {\n    const { defaultWeight, maxWeight, rowHeight, parentField } = this.props\n    const { itemWeight = defaultWeight } = parentField\n\n    const colsCount = maxWeight / itemWeight\n\n    let x = -1\n    let y = 0\n    const layout = this.values.map((item) => {\n      x += 1\n      if (x >= colsCount) {\n        x = 0\n        y += 1\n      }\n\n      let h = 1\n      const metric = this.metrics[item.clientId] || {}\n      if (metric.height) {\n        h = Math.ceil(metric.height / rowHeight)\n      }\n      return {\n        i: item.clientId,\n        x: x,\n        y: y,\n        w: 1,\n        h: h,\n        static: false\n      }\n    })\n    return layout\n  }\n\n  updateLayout = () => {\n    this.setState({\n      layout: this.layoutByValues()\n    })\n  }\n\n  render() {\n    const {\n      classes,\n      className,\n      defaultWeight,\n      maxWeight,\n      rowHeight,\n      defaultItem,\n      addButtonFunc,\n      hasError\n    } = this.props\n\n    const { formFields, objectErrors = [], parentField, readOnly } = this.state\n\n    const { addText, autoSaveTimeout, allowAutoSave, displayName } = this.props\n\n    const {\n      allowDragDrop,\n      allowDelete,\n      itemWeight = defaultWeight\n    } = parentField\n\n    const colsCount = maxWeight / itemWeight\n\n    let x = -1\n    let y = 0\n    const layout = this.values.map((item) => {\n      x += 1\n      if (x >= colsCount) {\n        x = 0\n        y += 1\n      }\n\n      let h = 1\n      const metric = this.metrics[item.clientId] || {}\n      if (metric.height) {\n        h = Math.ceil(metric.height / rowHeight)\n      }\n      return {\n        i: item.clientId,\n        x: x,\n        y: y,\n        w: 1,\n        h: h,\n        static: false\n      }\n    })\n\n    return (\n      <ModelArrayContext.Provider\n        value={{\n          onValueTimeUp: this.onValueTimeUp\n        }}\n      >\n        <div className={clsx(classes.root, className)}>\n          {displayName && displayName !== '' && (\n            <FormLabel error={hasError}>{displayName}</FormLabel>\n          )}\n          <ReactGridLayout\n            cols={colsCount}\n            className={clsx(classes.grid, 'layout')}\n            rowHeight={rowHeight}\n            isResizable={false}\n            isDraggable={allowDragDrop}\n            layout={layout}\n            key={this.gridKey}\n            margin={[0, 0]}\n            containerPadding={[0, 0]}\n            onLayoutChange={this.onUpdateLayout}\n          >\n            {this.values.map((item) => {\n              const errorData =\n                objectErrors.filter(\n                  (obj) => item.clientId === obj.clientId || item.id === obj.id\n                )[0] || {}\n              return (\n                <div key={item.clientId}>\n                  <NestedModelsArrayItem\n                    key={item.clientId}\n                    parentField={parentField}\n                    formFields={formFields}\n                    allowDelete={\n                      (!item.default || this.isManualAddType()) && allowDelete\n                    }\n                    item={item}\n                    onChange={this.onChangeItem}\n                    onDelete={() => this.onDeleteItem(item)}\n                    onUpdateDimensions={(width, height) =>\n                      this.onUpdateItemMetrics(item.clientId, width, height)\n                    }\n                    errorData={errorData}\n                    autoSaveTimeout={autoSaveTimeout}\n                    allowAutoSave={allowAutoSave}\n                    readOnly={readOnly}\n                  />\n                </div>\n              )\n            })}\n          </ReactGridLayout>\n          {addButtonFunc &&\n            addButtonFunc(this.values, defaultItem, this.onAdd, hasError)}\n          {!addButtonFunc && this.isManualAddType() && (\n            <div className={classes.addContainer}>\n              <Button\n                className={classes.addButton}\n                onClick={() => this.onAdd()}\n              >\n                {addText}\n              </Button>\n            </div>\n          )}\n        </div>\n      </ModelArrayContext.Provider>\n    )\n  }\n}\n\nNestedModelsArrayField.propTypes = {\n  addText: PropTypes.string,\n  formFields: PropTypes.arrayOf(PropTypes.object).isRequired,\n  parentField: PropTypes.object.isRequired,\n  onChange: PropTypes.func.isRequired,\n\n  autoSaveTimeout: PropTypes.number,\n  allowAutoSave: PropTypes.bool,\n  addType: PropTypes.oneOf([AddTypeManual, AddTypeAuto])\n}\n\nNestedModelsArrayField.defaultProps = {\n  addText: 'Add',\n  autoSaveTimeout: 500,\n  allowAutoSave: false,\n  defaultWeight: 12,\n  maxWeight: 12,\n  addType: AddTypeManual,\n  rowHeight: 5\n}\n\nexport default compose(\n  withHelperText,\n  withStyles(styles)\n)(NestedModelsArrayField)\nexport { AddTypeManual, AddTypeAuto, ModelArrayContext }\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport clsx from 'clsx'\nimport { withStyles } from '@material-ui/styles'\nimport { Grid } from '@material-ui/core'\nimport NestedModelField from './nested_model_field.js'\nimport NestedModelsArrayField from './nested_models_array_field.js'\n\nimport {\n  Checkbox,\n  TextField,\n  PasswordField,\n  SelectField,\n  RemoteSelectField,\n  PhoneField,\n  DateTimeField,\n  DecimalField,\n  ImageField,\n  FileField\n} from '@sequenia/react-material-fields'\n\nconst styles = (theme) => ({\n  root: {},\n  component: {},\n  formFieldContainer: {\n    marginBottom: 20\n  }\n})\n\nconst maxUnits = 12\n\n/**\n * const errorData = { fields: {lastName: \"can't be blank\"} }\n * const fields = this.fields;\n * return (\n *   <FormFields onChange = { (newItem, field, newValue) => {\n *                 // Some actions\n *               } }\n *               item = { {id: 1, name: \"Name\"} }\n *               errorData = { errorData }\n *               formFields = { fields } />\n * )\n */\nclass FormFields extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.item = { ...props.item }\n\n    this.delayedForAutoSaveTypes = [\n      'text',\n      'email',\n      'number',\n      'password',\n      'WYSIWYG'\n    ]\n\n    this.state = {}\n\n    this.fieldRefs = {}\n\n    this.onChangeFieldValue = this.onChangeFieldValue.bind(this)\n    this.changeValue = this.changeValue.bind(this)\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    return {\n      formFields: [...props.formFields],\n      errorData: { ...props.errorData },\n      readOnly: props.readOnly\n    }\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return (\n      JSON.stringify(this.state.formFields) !==\n        JSON.stringify(nextState.formFields) ||\n      JSON.stringify(this.state.errorData) !==\n        JSON.stringify(nextState.errorData) ||\n      this.state.readOnly !== nextState.readOnly\n    )\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (JSON.stringify(this.item) !== JSON.stringify(prevProps.item)) {\n      this.item = { ...this.props.item }\n      this.forceUpdate()\n    }\n  }\n\n  onChangeFieldValue(field, newValue) {\n    const { allowAutoSave } = this.props\n    if (!allowAutoSave) {\n      this.changeValue(field, newValue)\n      return\n    }\n\n    if (this.delayedForAutoSaveTypes.includes(field.type)) {\n      if (this.timeoutToken) {\n        clearTimeout(this.timeoutToken)\n      }\n      this.timeoutToken = setTimeout(() => {\n        clearTimeout(this.timeoutToken)\n        this.timeoutToken = undefined\n\n        this.changeValue(field, newValue)\n      }, this.props.autoSaveTimeout)\n    } else {\n      this.changeValue(field, newValue)\n    }\n  }\n\n  changeValue(field, newValue) {\n    const { onItemChange } = this.props\n\n    this.item[field.name] = newValue\n    if (field.foreignKey) {\n      const primaryKey = field.primaryKey || 'id'\n      this.item[field.foreignKey] = newValue ? newValue[primaryKey] : null\n    }\n\n    if (onItemChange) {\n      const newItem = { ...{}, ...this.item }\n      onItemChange(newItem, field, newValue)\n    }\n  }\n\n  formField(field) {\n    const {\n      autoSaveTimeout,\n      allowAutoSave,\n      onChange,\n      onValueTimeUp\n    } = this.props\n\n    const { errorData, readOnly } = this.state\n    const { fields: fieldsErrorData = {} } = errorData\n\n    if (field.renderFunction) {\n      return field.renderFunction(this.item, field, errorData, onChange)\n    }\n\n    const value = this.item[field.name]\n    let { name, alternateName } = field\n    if (alternateName !== undefined && alternateName !== null) {\n      name = alternateName\n    }\n\n    if (\n      field.type === 'text' ||\n      field.type === 'number' ||\n      field.type === 'email'\n    ) {\n      return (\n        <TextField\n          value={value}\n          onChange={(value) => this.onChangeFieldValue(field, value)}\n          errors={fieldsErrorData[field.name]}\n          {...field}\n          readOnly={readOnly || field.readOnly}\n          name={name}\n        />\n      )\n    }\n    if (field.type === 'password') {\n      return (\n        <PasswordField\n          value={value}\n          onChange={(value) => this.onChangeFieldValue(field, value)}\n          errors={fieldsErrorData[field.name]}\n          {...field}\n          readOnly={readOnly || field.readOnly}\n          name={name}\n        />\n      )\n    }\n    if (field.type === 'enum') {\n      return (\n        <SelectField\n          value={value}\n          onChange={(value) => this.onChangeFieldValue(field, value)}\n          errors={fieldsErrorData[field.name]}\n          {...field}\n          readOnly={readOnly || field.readOnly}\n          name={name}\n        />\n      )\n    }\n    if (field.type === 'dateTime') {\n      return (\n        <DateTimeField\n          value={value}\n          onChange={(value) => this.onChangeFieldValue(field, value)}\n          errors={fieldsErrorData[field.name]}\n          {...field}\n          readOnly={readOnly || field.readOnly}\n          name={name}\n        />\n      )\n    }\n    if (field.type === 'phone') {\n      return (\n        <PhoneField\n          value={value}\n          onChange={(value) => this.onChangeFieldValue(field, value)}\n          errors={fieldsErrorData[field.name]}\n          {...field}\n          readOnly={readOnly || field.readOnly}\n          name={name}\n        />\n      )\n    }\n    if (field.type === 'nestedModel') {\n      let formFields = []\n      if (field.fields) {\n        formFields = field.fields(field, value)\n      } else if (field.model) {\n        formFields = field.model.nestedFormFields(field, { item: value })\n      }\n      return (\n        <NestedModelField\n          value={value}\n          onChange={(value) => this.onChangeFieldValue(field, value)}\n          autoSaveTimeout={autoSaveTimeout}\n          allowAutoSave={allowAutoSave}\n          parentField={field}\n          formFields={formFields}\n          errorData={errorData[field.name]}\n          defaultWeight={this.props.defaultWeight}\n          {...field}\n          readOnly={readOnly || field.readOnly}\n          name={name}\n        />\n      )\n    }\n    if (field.type === 'nestedModelsArray') {\n      let formFields = []\n      if (field.fields) {\n        formFields = field.fields(field, value)\n      } else if (field.model) {\n        formFields = field.model.nestedFormFields(field, { item: value })\n      }\n      const objectErrors = errorData[field.name] || []\n      return (\n        <NestedModelsArrayField\n          values={value}\n          onChange={(value) => this.onChangeFieldValue(field, value)}\n          autoSaveTimeout={autoSaveTimeout}\n          allowAutoSave={allowAutoSave}\n          parentField={field}\n          formFields={formFields}\n          errors={fieldsErrorData[field.name]}\n          objectErrors={objectErrors}\n          defaultWeight={field.defaultWeight || this.props.defaultWeight}\n          {...field}\n          readOnly={readOnly || field.readOnly}\n          name={name}\n        />\n      )\n    }\n    if (field.type === 'decimal') {\n      return (\n        <DecimalField\n          value={value}\n          onChange={(value) => this.onChangeFieldValue(field, value)}\n          errors={fieldsErrorData[field.name]}\n          {...field}\n          readOnly={readOnly || field.readOnly}\n          name={name}\n        />\n      )\n    }\n    if (field.type === 'image') {\n      return (\n        <ImageField\n          value={value}\n          onChange={(value) => this.onChangeFieldValue(field, value)}\n          errors={fieldsErrorData[field.name]}\n          onAutoDelete={() => onValueTimeUp(value)}\n          {...field}\n          readOnly={readOnly || field.readOnly}\n          name={name}\n        />\n      )\n    }\n    if (field.type === 'file') {\n      return (\n        <FileField\n          value={value}\n          onChange={(value) => this.onChangeFieldValue(field, value)}\n          errors={fieldsErrorData[field.name]}\n          onAutoDelete={() => onValueTimeUp(value)}\n          {...field}\n          readOnly={readOnly || field.readOnly}\n          name={name}\n        />\n      )\n    }\n    if (field.type === 'model') {\n      return (\n        <RemoteSelectField\n          value={value}\n          valueId={this.item[field.foreignKey]}\n          onChange={(value) => this.onChangeFieldValue(field, value)}\n          errors={fieldsErrorData[field.name]}\n          {...field}\n          readOnly={readOnly || field.readOnly}\n          name={name}\n        />\n      )\n    }\n    if (field.type === 'boolean') {\n      return (\n        <Checkbox\n          checked={value}\n          onChange={(value) => this.onChangeFieldValue(field, value)}\n          {...field}\n          readOnly={readOnly || field.readOnly}\n          name={name}\n        />\n      )\n    }\n    return <React.Fragment />\n  }\n\n  render() {\n    const { classes, className } = this.props\n\n    const { formFields } = this.state\n\n    if (formFields.length === 0) {\n      return <React.Fragment />\n    }\n\n    return (\n      <div className={clsx(classes.root, className)}>\n        <Grid container>{this.constructFormFieldsGrid()}</Grid>\n      </div>\n    )\n  }\n\n  constructFormFieldsGrid() {\n    const { formFields } = this.state\n\n    const { defaultWeight, classes } = this.props\n\n    if (formFields.length === 0) {\n      return <React.Fragment />\n    }\n\n    const gridWeb = []\n    let remainsUnits = maxUnits\n    formFields.forEach((field) => {\n      const { weight = defaultWeight, forceNextLine } = field\n      let component = this.formField(field)\n\n      if (remainsUnits === 0) {\n        remainsUnits = maxUnits\n      } else if (remainsUnits < weight) {\n        gridWeb.push(\n          <Grid item md={remainsUnits} key={`${field.name}_spacer`} />\n        )\n        remainsUnits = maxUnits\n      }\n\n      component = (\n        <Grid\n          key={field.name}\n          item\n          md={weight}\n          ref={(ref) => {\n            this.fieldRefs[field.name] = ref\n          }}\n        >\n          <div className={classes.component}>{component}</div>\n        </Grid>\n      )\n      gridWeb.push(component)\n      remainsUnits = remainsUnits - weight\n      if (forceNextLine) {\n        gridWeb.push(\n          <Grid item md={remainsUnits} key={`${field.name}_spacer`} />\n        )\n        remainsUnits = 0\n      }\n    })\n    return gridWeb\n  }\n}\n\nFormFields.propTypes = {\n  formFields: PropTypes.array.isRequired,\n  item: PropTypes.object.isRequired,\n  errorData: PropTypes.object,\n  onItemChange: PropTypes.func,\n  autoSaveTimeout: PropTypes.number,\n  allowAutoSave: PropTypes.bool,\n  defaultWeight: PropTypes.number,\n  readOnly: PropTypes.bool\n}\n\nFormFields.defaultProps = {\n  autoSaveTimeout: 500,\n  allowAutoSave: false,\n  defaultWeight: 12,\n  readOnly: false\n}\n\nexport default withStyles(\n  (theme) => ({\n    ...styles(theme)\n  }),\n  { withTheme: true }\n)(FormFields)\n","import DescribingModel from '@sequenia/describing-model';\n\nconst countriesEnum = [\n  {\n    key: \"USA\",\n    value: \"usa\"\n  },\n  {\n    key: \"France\",\n    value: \"france\"\n  },\n  {\n    key: \"Germany\",\n    value: \"germany\"\n  }    \n];\n\nclass Address extends DescribingModel {\n  formFields(item = undefined) {\n    return [\n      {\n        name: \"country\",\n        displayName: \"Country\",\n        type: \"enum\",\n        data: countriesEnum\n      },\n      {\n        name: \"city\",\n        displayName: \"City\",\n        type: \"text\",\n      },\n      {\n        name: \"postalCode\",\n        displayName: \"Postal code\",\n        type: \"text\",\n      },\n      {\n        name: \"street\",\n        displayName: \"Street\",\n        type: \"text\",\n      },\n      {\n        name: \"number\",\n        displayName: \"Number\",\n        type: \"text\",\n      },\n      {\n        name: \"url\",\n        displayName: \"URL\",\n        type: \"text\",\n      },\n    ]\n  }\n}\n\nconst AddressModel = new Address()\nexport default AddressModel","import DescribingModel from '@sequenia/describing-model';\n\nclass CompanyPerson extends DescribingModel {\n  formFields(item = undefined) {\n    return [\n      {\n        name: \"firstName\",\n        displayName: \"First name\",\n        type: \"text\",\n        weight: 6\n      },\n      {\n        name: \"lastName\",\n        displayName: \"Last name\",\n        type: \"text\",\n        weight: 6\n      },\n    ]\n  }\n}\n\nconst CompanyPersonModel = new CompanyPerson()\nexport default CompanyPersonModel","import React from 'react'\nimport \"./index.css\";\nimport FormFields from '@sequenia/react-material-forms';\nimport DescribingModel from '@sequenia/describing-model';\nimport AddressModel from './address_model.js';\nimport CompanyPersonModel from './company_person_model.js';\nimport uuidv4 from 'uuid/v4';\n\nconst salutationEnum = [\n  {\n    key: \"Mr\",\n    value: \"mr\"\n  },\n  {\n    key: \"Ms\",\n    value: \"ms\"\n  },\n  {\n    key: \"Mrs\",\n    value: \"mrs\"\n  }    \n];\n\nconst errorDataExample = {\n  fields: {\n    birthPlace: [\"can't be blank\"]\n  } \n}\n\nconst personalItems = {\n  salutation: \"mr\",\n  firstName: \"John\",\n  lastName: \"Doe\",\n  birthDate: \"01-12-1985\",\n  manager: \"\",\n  address: {\n    country: \"\",\n    city: \"\",\n    postalCode: \"\",\n    street: \"\",\n    number: \"\",\n    url: \"\"\n  }\n}\n\nclass PersonalInfoModel extends DescribingModel {\n\n\n  formFields(item = undefined) {\n    return [\n        {\n          name: \"salutation\",\n          displayName: \"Salutation\",\n          displayNamePosition: \"above\",\n          type: \"enum\",\n          data: salutationEnum,\n          forceNextLine: true,\n          weight: 6\n        },\n        {\n          name: \"firstName\",\n          displayName: \"First name\",\n          displayNamePosition: \"above\",\n          type: \"text\",\n          weight: 6\n        },\n        {\n          name: \"lastName\",\n          displayName: \"Last name\",\n          displayNamePosition: \"above\",\n          type: \"text\",\n          weight: 6\n        },\n        {\n          name: \"birthDate\",\n          displayName: \"Birth date\",\n          displayNamePosition: \"above\",\n          type: \"dateTime\",\n          format: \"DD.MM.YYYY\",\n          weight: 6\n        },\n        {\n          name: \"birthPlace\",\n          displayName: \"Birth place\",\n          displayNamePosition: \"above\",\n          type: \"text\",\n          weight: 6\n        },\n        {\n          name: \"manager\",\n          displayName: \"Select your manager\",\n          displayNamePosition: \"above\",\n          type: \"model\",\n          allowClear: true,\n          clearItem: \"No manager\",\n          optionDisplayName: option => {\n            const { first_name, last_name } = option;\n            return `${first_name} ${last_name}`; \n          },\n          downloader: (searchQuery, selectedValueIds) => {\n            const params = {\n              query: searchQuery,\n              valueIds: selectedValueIds\n            }\n            const url = new URL(\"https://reqres.in/api/users\");\n            Object.keys(params).forEach(key => url.searchParams.append(key, encodeURIComponent(params[key])));\n            return fetch(url)\n                  .then((response) => response.json())\n                  .then((response) => {\n                    const { data } = response;\n                    return data;\n                  });  \n          },\n          weight: 6,\n          forceNextLine: true\n        },\n        {\n          name: \"address\",\n          type: \"nestedModel\",\n          weight: 12,\n          fields: (parentField, item) => AddressModel.formFields({item}),\n        },\n        {\n          name: \"people\",\n          type: \"nestedModelsArray\",\n          weight: 12,\n          itemWeight: 12,\n          addText: \"Add company person\",\n          defaultWeight: 6,\n          allowDragDrop: false,\n          allowDelete: true,\n          fields: (parentField, item) => {\n            return CompanyPersonModel.formFields({item: item});\n          },\n          defaultItem: (items) => {\n            return {\n              clientId: uuidv4(),\n            }\n          }\n        },\n    ]\n  }\n}\n \nconst PersonalInfoModelInstance = new PersonalInfoModel();\n\nconst App = () => {\n  return  <div className = \"container\">\n    <h1>React Material Form</h1>\n    <p>Form blocks based on @sequenia/react-material-fields</p>\n    <section className = \"section\">\n      <h3>Simple model FormFields</h3>\n      <FormFields formFields = { PersonalInfoModelInstance.formFields() } \n                  errorData = { errorDataExample }\n                  item = { personalItems } />\n    </section>\n  </div> \n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}