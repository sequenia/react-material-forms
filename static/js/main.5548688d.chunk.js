(this["webpackJsonp@sequenia/react-material-forms-example"]=this["webpackJsonp@sequenia/react-material-forms-example"]||[]).push([[0],{119:function(e,t,a){e.exports=a(151)},124:function(e,t,a){},151:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(11),o=a.n(i),s=a(19),l=a(20),u=a(22),d=a(21),c=(a(124),a(36)),m=a(14),p=a(41),f=a(2),h=a.n(f),y=a(8),v=a(191),g=a(187),O=a(188),b=a(189),j=a(186),F=a(190),N=a(18),C=a(69),S=a.n(C),E=(a(139),a(87)),w=a(27),T=function(e){var t=function(t){Object(u.a)(n,t);var a=Object(d.a)(n);function n(e){var t;return Object(s.a)(this,n),(t=a.call(this,e)).helperText=t.helperText.bind(Object(p.a)(t)),t.state={},t}return Object(l.a)(n,[{key:"displayName",value:function(){var e=this.state,t=e.required,a=e.displayName;if(void 0!==a)return"".concat(a).concat(t?" *":"")}},{key:"helperText",value:function(){var e=this.state,t=e.hasError,a=e.errorMessage,n=e.descriptionText,i=e.descriptionComponentFunc;return r.a.createElement(r.a.Fragment,null,a&&r.a.createElement(g.a,{error:t},a),n&&i&&i(n),n&&!i&&r.a.createElement(g.a,null,n))}},{key:"render",value:function(){var t=this.state.hasError;return r.a.createElement(r.a.Fragment,null,r.a.createElement(e,Object.assign({},this.props,{hasError:t,displayName:this.displayName()})),this.helperText())}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.errors,n=void 0===a?[]:a,r=e.descriptionText,i=e.descriptionComponentFunc,o=e.required,s=e.displayName,l=n.filter((function(e){return"string"===typeof e}));return{errorMessage:l.length>0?l.join(", "):void 0,descriptionText:r,descriptionComponentFunc:i,hasError:l.length>0||e.hasError,displayName:s,required:o}}}]),n}(r.a.Component);return t},D=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).value=Object(m.a)(Object(m.a)({},{}),e.value),n.state={},n.onChangeNestedModel=n.onChangeNestedModel.bind(Object(p.a)(n)),n}return Object(l.a)(a,[{key:"shouldComponentUpdate",value:function(e,t){return JSON.stringify(this.state.formFields)!==JSON.stringify(t.formFields)||JSON.stringify(this.state.parentField)!==JSON.stringify(t.parentField)||JSON.stringify(this.state.errorData)!==JSON.stringify(t.errorData)||this.state.readOnly!==t.readOnly}},{key:"componentDidUpdate",value:function(e,t){JSON.stringify(this.value||{})!==JSON.stringify(e.value||{})&&(this.value=Object(m.a)({},this.props.value),this.forceUpdate())}},{key:"onChangeNestedModel",value:function(e){var t=this.props.onChange;this.value=Object(m.a)({},e),t&&t(e)}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.className,n=e.autoSaveTimeout,i=e.allowAutoSave,o=e.displayName,s=this.state,l=s.formFields,u=s.errorData,d=s.readOnly;return r.a.createElement("div",{className:Object(y.a)(t.root,a)},o&&""!==o&&r.a.createElement(O.a,null,o),r.a.createElement(Z,{formFields:l,item:this.value,onItemChange:this.onChangeNestedModel,errorData:u,autoSaveTimeout:n,allowAutoSave:i,defaultWeight:this.props.defaultWeight,readOnly:d}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{parentField:Object(m.a)({},e.parentField),formFields:Object(c.a)(e.formFields),errorData:Object(m.a)({},e.errorData),readOnly:e.readOnly}}}]),a}(r.a.Component);D.propTypes={formFields:h.a.arrayOf(h.a.object).isRequired,parentField:h.a.object.isRequired,onChange:h.a.func.isRequired,autoSaveTimeout:h.a.number,allowAutoSave:h.a.bool,value:h.a.object},D.defaultProps={autoSaveTimeout:500,allowAutoSave:!1,defaultWeight:12};var k=Object(N.a)(T,Object(v.a)((function(e){return{root:{}}})))(D);function x(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function I(e,t){return e(t={exports:{}},t.exports),t.exports}for(var A=I((function(e){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var a=new Uint8Array(16);e.exports=function(){return t(a),a}}else{var n=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),n[t]=e>>>((3&t)<<3)&255;return n}}})),U=[],V=0;V<256;++V)U[V]=(V+256).toString(16).substr(1);var J=function(e,t){var a=t||0,n=U;return[n[e[a++]],n[e[a++]],n[e[a++]],n[e[a++]],"-",n[e[a++]],n[e[a++]],"-",n[e[a++]],n[e[a++]],"-",n[e[a++]],n[e[a++]],"-",n[e[a++]],n[e[a++]],n[e[a++]],n[e[a++]],n[e[a++]],n[e[a++]]].join("")};var M=function(e,t,a){var n=t&&a||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var r=(e=e||{}).random||(e.rng||A)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t)for(var i=0;i<16;++i)t[n+i]=r[i];return t||J(r)},W=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={},n}return Object(l.a)(a,[{key:"shouldComponentUpdate",value:function(e,t){return this.state.disabled!==t.disabled||this.props.className!==e.className}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.className,n=e.labelClass,i=e.variant,o=e.component,s=e.startIcon,l=e.ariaControls,u=e.ariaHaspopup,d=this.props,c=d.type,m=d.onClick,p=d.children,f=this.state.disabled,h={};return n&&(h.label=n),r.a.createElement(b.a,{className:Object(y.a)(t.root,a),classes:h,disabled:f,variant:i,component:o,type:c,startIcon:s,onClick:m,"aria-controls":l,"aria-haspopup":u},p)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{disabled:e.disabled}}}]),a}(r.a.Component);W.propTypes={className:h.a.string,labelClass:h.a.string,type:h.a.oneOf(["button","submit"]),variant:h.a.oneOf(["contained","text","outlined"]),component:h.a.string,startIcon:h.a.node,ariaHaspopup:h.a.bool,ariaControls:h.a.string,onClick:h.a.func,disabled:h.a.bool},W.defaultProps={type:"button",variant:"contained",ariaHaspopup:!1,disabled:!1};var P=Object(v.a)((function(e){return{root:{}}}))(W),R=I((function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}}}));x(R);var L=I((function(e){function t(){return e.exports=t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},t.apply(this,arguments)}e.exports=t})),q=I((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=n.default.memo(n.default.forwardRef((function(t,r){return n.default.createElement(i.default,(0,a.default)({ref:r},t),e)})));0;return r.muiName=i.default.muiName,r};var a=R(L),n=R(r.a),i=R(E.a)}));x(q);var H=x(I((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=R(r.a),n=(0,R(q).default)(a.default.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");t.default=n}))),B=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onChangeItem=function(e){var t=n.props,a=t.onChange,r=t.updateDimensions;n.value=Object(m.a)({},e),r(),a&&a(n.value)},n.onDeleteItem=function(){var e=n.props.onDelete;e&&e()},n.item=Object(m.a)({},e.item),n.state={},n}return Object(l.a)(a,[{key:"shouldComponentUpdate",value:function(e,t){return JSON.stringify(this.state.formFields)!==JSON.stringify(t.formFields)||JSON.stringify(this.state.parentField)!==JSON.stringify(t.parentField)||JSON.stringify(this.state.errorData)!==JSON.stringify(t.errorData)||this.props.width!==e.width||this.props.height!==e.height||this.state.readOnly!==t.readOnly}},{key:"componentDidUpdate",value:function(e,t){JSON.stringify(this.state.errorData)!==JSON.stringify(t.errorData)&&(0,this.props.updateDimensions)()}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.allowDelete,i=t.className,o=t.innerRef,s=this.props,l=s.autoSaveTimeout,u=s.allowAutoSave,d=this.state,c=d.formFields,m=d.errorData,p=d.readOnly;return r.a.createElement(G.Consumer,null,(function(t){return r.a.createElement("div",{className:Object(y.a)(a.root,i),ref:o},r.a.createElement("div",{className:a.itemContainer},r.a.createElement("div",{className:a.fieldsContainer},r.a.createElement(Z,{formFields:c,item:e.item,onItemChange:e.onChangeItem,errorData:m,autoSaveTimeout:l,allowAutoSave:u,onValueTimeUp:t.onValueTimeUp,readOnly:p})),n&&r.a.createElement(j.a,{className:a.deleteButton,onClick:e.onDeleteItem},r.a.createElement(H,null))))}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{parentField:Object(m.a)({},e.parentField),formFields:Object(c.a)(e.formFields),errorData:Object(m.a)({},e.errorData),readOnly:e.readOnly}}}]),a}(r.a.Component);B.propTypes={formFields:h.a.arrayOf(h.a.object).isRequired,parentField:h.a.object.isRequired,onChange:h.a.func.isRequired,autoSaveTimeout:h.a.number,allowAutoSave:h.a.bool},B.defaultProps={autoSaveTimeout:500,allowAutoSave:!1,defaultWeight:12,maxWeight:12};var _=r.a.forwardRef((function(e,t){return r.a.createElement(B,Object.assign({innerRef:t},e))})),Y=Object(N.a)((function(e){var t=function(t){Object(u.a)(n,t);var a=Object(d.a)(n);function n(e){var t;return Object(s.a)(this,n),(t=a.call(this,e)).updateDimensions=function(){if(t.component){var e=t.component,a=e.clientWidth,n=e.clientHeight;t.setState({width:a,height:n})}},t.isNode=function(e){return"object"===typeof Node?e instanceof Node:e&&"object"===typeof e&&"number"===typeof e.nodeType&&"string"===typeof e.nodeName},t.isElement=function(e){return"object"===typeof HTMLElement?e instanceof HTMLElement:e&&"object"===typeof e&&null!==e&&1===e.nodeType&&"string"===typeof e.nodeName},t.state={width:0,height:0},t}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.updateDimensions(),window.addEventListener("resize",this.updateDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateDimensions)}},{key:"componentDidUpdate",value:function(e,t){var a=this.props.onUpdateDimensions,n=this.state,r=n.width,i=n.height;a&&a(r,i)}},{key:"render",value:function(){var t=this,a=this.state,n=a.width,i=a.height;return r.a.createElement(e,Object.assign({},this.props,{ref:function(e){return t.component=e},width:n,height:i,updateDimensions:this.updateDimensions}))}}]),n}(r.a.Component);return t}),Object(v.a)((function(e){return{root:{display:"block",padding:"12px",position:"relative"},itemContainer:{display:"flex",alignItems:"flex-start"},fieldsContainer:{flexGrow:1},deleteButton:{marginLeft:"10px"}}})))(_),z=Object(C.WidthProvider)(S.a),G=r.a.createContext(),K=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;Object(s.a)(this,a),(n=t.call(this,e)).onAdd=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;Array.isArray(e)?n.onAddItems(e):n.onAddItem(e)},n.onAddItem=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=n.props.onChange,a=n.props.defaultItem,r=e||Object(m.a)(Object(m.a)({},a(n.values)),{},{default:!0});n.values.push(r),n.onChangeValuesCount(),n.updateLayout(),t&&t(n.valuesToSendUp())},n.onAddItems=function(e){var t=n.props.onChange;n.values=n.values.concat(e),n.onChangeValuesCount(),n.updateLayout(),t&&t(n.valuesToSendUp())},n.onChangeItem=function(e){var t=n.props.onChange,a=n.values.findIndex((function(t){return t.clientId===e.clientId}));n.values[a]=Object(m.a)(Object(m.a)({},e),{},{default:!1}),t&&t(n.valuesToSendUp()),n.isAutoAddType()&&e.default&&n.onAddItem()},n.onDeleteItem=function(e){var t=n.props.onChange,a=n.values.findIndex((function(t){return t.clientId===e.clientId}));delete n.metrics[e.clientId],n.values.splice(a,1),n.onChangeValuesCount(),n.updateLayout(),n.forceUpdate(),t&&t(n.valuesToSendUp())},n.onUpdateItemMetrics=function(e,t,a){n.metrics[e]={width:t,height:a},n.updateLayout()},n.onUpdateLayout=function(e){var t=n.props.onChange;Object(c.a)(e).sort((function(e,t){return e.y-t.y||e.x-t.x})).forEach((function(e,t){var a=n.valuesHash[e.i];a&&(a.position=t)})),n.values=n.values.sort((function(e,t){return e.position-t.position})),n.updateLayout(),t&&t(n.valuesToSendUp())},n.onValueTimeUp=function(e){n.onDeleteItem(e)},n.onChangeValuesCount=function(){n.valuesHash={},n.values.forEach((function(e){n.valuesHash[e.clientId]=e}))},n.layoutByValues=function(){var e=n.props,t=e.defaultWeight,a=e.maxWeight,r=e.rowHeight,i=e.parentField.itemWeight,o=a/(void 0===i?t:i),s=-1,l=0;return n.values.map((function(e){(s+=1)>=o&&(s=0,l+=1);var t=1,a=n.metrics[e.clientId]||{};return a.height&&(t=Math.ceil(a.height/r)),{i:e.clientId,x:s,y:l,w:1,h:t,static:!1}}))},n.updateLayout=function(){n.setState({layout:n.layoutByValues()})};var r=e.values,i=void 0===r?[]:r;return n.values=n.prepareItems(i),n.metrics={},n.onChangeValuesCount(),n.state={layout:n.layoutByValues()},n}return Object(l.a)(a,[{key:"shouldComponentUpdate",value:function(e,t){return JSON.stringify(this.state.layout)!==JSON.stringify(t.layout)||JSON.stringify(this.state.formFields)!==JSON.stringify(t.formFields)||JSON.stringify(this.state.parentField)!==JSON.stringify(t.parentField)||JSON.stringify(this.state.objectErrors)!==JSON.stringify(t.objectErrors)||this.props.width!==e.width||this.props.height!==e.height||this.props.hasError!==e.hasError||this.state.readOnly!==t.readOnly||JSON.stringify(this.props.values)!==JSON.stringify(e.values)}},{key:"componentDidUpdate",value:function(e,t){if(JSON.stringify(this.props.values)!==JSON.stringify(e.values)){var a=this.props.values,n=void 0===a?[]:a;this.values=this.prepareItems(n),this.forceUpdate()}}},{key:"valuesToSendUp",value:function(){return this.isManualAddType()?this.values:this.values.filter((function(e){return!e.default}))}},{key:"prepareItems",value:function(e){return Object(c.a)(e).map((function(e){return e.clientId?Object(m.a)({},e):Object(m.a)(Object(m.a)({},e),{},{clientId:M()})}))}},{key:"isManualAddType",value:function(){return"manual"===this.props.addType}},{key:"isAutoAddType",value:function(){return"auto"===this.props.addType}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.className,i=t.defaultWeight,o=t.maxWeight,s=t.rowHeight,l=t.defaultItem,u=t.addButtonFunc,d=t.hasError,c=this.state,m=c.formFields,p=c.objectErrors,f=void 0===p?[]:p,h=c.parentField,v=c.readOnly,g=this.props,b=g.addText,j=g.autoSaveTimeout,F=g.allowAutoSave,N=g.displayName,C=h.allowDragDrop,S=h.allowDelete,E=h.itemWeight,w=o/(void 0===E?i:E),T=-1,D=0,k=this.values.map((function(t){(T+=1)>=w&&(T=0,D+=1);var a=1,n=e.metrics[t.clientId]||{};return n.height&&(a=Math.ceil(n.height/s)),{i:t.clientId,x:T,y:D,w:1,h:a,static:!1}}));return r.a.createElement(G.Provider,{value:{onValueTimeUp:this.onValueTimeUp}},r.a.createElement("div",{className:Object(y.a)(a.root,n)},N&&""!==N&&r.a.createElement(O.a,{error:d},N),r.a.createElement(z,{cols:w,className:Object(y.a)(a.grid,"layout"),rowHeight:s,isResizable:!1,isDraggable:C,layout:k,key:this.gridKey,margin:[0,0],containerPadding:[0,0],onLayoutChange:this.onUpdateLayout},this.values.map((function(t){var a=f.filter((function(e){return t.clientId===e.clientId||t.id===e.id}))[0]||{};return r.a.createElement("div",{key:t.clientId},r.a.createElement(Y,{key:t.clientId,parentField:h,formFields:m,allowDelete:(!t.default||e.isManualAddType())&&S,item:t,onChange:e.onChangeItem,onDelete:function(){return e.onDeleteItem(t)},onUpdateDimensions:function(a,n){return e.onUpdateItemMetrics(t.clientId,a,n)},errorData:a,autoSaveTimeout:j,allowAutoSave:F,readOnly:v}))}))),u&&u(this.values,l,this.onAdd,d),!u&&this.isManualAddType()&&r.a.createElement("div",{className:a.addContainer},r.a.createElement(P,{className:a.addButton,onClick:function(){return e.onAdd()}},b))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return Object(m.a)(Object(m.a)({},t),{},{parentField:Object(m.a)({},e.parentField),formFields:Object(c.a)(e.formFields),objectErrors:Object(c.a)(e.objectErrors),readOnly:e.readOnly})}}]),a}(r.a.Component);K.propTypes={addText:h.a.string,formFields:h.a.arrayOf(h.a.object).isRequired,parentField:h.a.object.isRequired,onChange:h.a.func.isRequired,autoSaveTimeout:h.a.number,allowAutoSave:h.a.bool,addType:h.a.oneOf(["manual","auto"])},K.defaultProps={addText:"Add",autoSaveTimeout:500,allowAutoSave:!1,defaultWeight:12,maxWeight:12,addType:"manual",rowHeight:5};var Q=Object(N.a)(T,Object(v.a)((function(e){return{root:{},grid:{margin:"0px -12px"},addContainer:{},addButton:{padding:"7px 10px",minWidth:"125px",fontSize:"18px"}}})))(K),X=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).item=Object(m.a)({},e.item),n.delayedForAutoSaveTypes=["text","email","number","password","WYSIWYG"],n.state={},n.fieldRefs={},n.onChangeFieldValue=n.onChangeFieldValue.bind(Object(p.a)(n)),n.changeValue=n.changeValue.bind(Object(p.a)(n)),n}return Object(l.a)(a,[{key:"shouldComponentUpdate",value:function(e,t){return JSON.stringify(this.state.formFields)!==JSON.stringify(t.formFields)||JSON.stringify(this.state.errorData)!==JSON.stringify(t.errorData)||this.state.readOnly!==t.readOnly}},{key:"componentDidUpdate",value:function(e,t){JSON.stringify(this.item)!==JSON.stringify(e.item)&&(this.item=Object(m.a)({},this.props.item),this.forceUpdate())}},{key:"onChangeFieldValue",value:function(e,t){var a=this;this.props.allowAutoSave&&this.delayedForAutoSaveTypes.includes(e.type)?(this.timeoutToken&&clearTimeout(this.timeoutToken),this.timeoutToken=setTimeout((function(){clearTimeout(a.timeoutToken),a.timeoutToken=void 0,a.changeValue(e,t)}),this.props.autoSaveTimeout)):this.changeValue(e,t)}},{key:"changeValue",value:function(e,t){var a=this.props.onItemChange;if(this.item[e.name]=t,e.foreignKey){var n=e.primaryKey||"id";this.item[e.foreignKey]=t?t[n]:null}a&&a(Object(m.a)(Object(m.a)({},{}),this.item),e,t)}},{key:"formField",value:function(e){var t=this,a=this.props,n=a.autoSaveTimeout,i=a.allowAutoSave,o=a.onChange,s=a.onValueTimeUp,l=this.state,u=l.errorData,d=l.readOnly,c=u.fields,m=void 0===c?{}:c;if(e.renderFunction)return e.renderFunction(this.item,e,u,o);var p=this.item[e.name],f=e.name,h=e.alternateName;if(void 0!==h&&null!==h&&(f=h),"text"===e.type||"number"===e.type||"email"===e.type)return r.a.createElement(w.j,Object.assign({value:p,onChange:function(a){return t.onChangeFieldValue(e,a)},errors:m[e.name]},e,{readOnly:d||e.readOnly,name:f}));if("password"===e.type)return r.a.createElement(w.f,Object.assign({value:p,onChange:function(a){return t.onChangeFieldValue(e,a)},errors:m[e.name]},e,{readOnly:d||e.readOnly,name:f}));if("enum"===e.type)return r.a.createElement(w.i,Object.assign({value:p,onChange:function(a){return t.onChangeFieldValue(e,a)},errors:m[e.name]},e,{readOnly:d||e.readOnly,name:f}));if("dateTime"===e.type)return r.a.createElement(w.b,Object.assign({value:p,onChange:function(a){return t.onChangeFieldValue(e,a)},errors:m[e.name]},e,{readOnly:d||e.readOnly,name:f}));if("phone"===e.type)return r.a.createElement(w.g,Object.assign({value:p,onChange:function(a){return t.onChangeFieldValue(e,a)},errors:m[e.name]},e,{readOnly:d||e.readOnly,name:f}));if("nestedModel"===e.type){var y=[];return e.fields?y=e.fields(e,p):e.model&&(y=e.model.nestedFormFields(e,{item:p})),r.a.createElement(k,Object.assign({value:p,onChange:function(a){return t.onChangeFieldValue(e,a)},autoSaveTimeout:n,allowAutoSave:i,parentField:e,formFields:y,errorData:u[e.name],defaultWeight:this.props.defaultWeight},e,{readOnly:d||e.readOnly,name:f}))}if("nestedModelsArray"===e.type){var v=[];e.fields?v=e.fields(e,p):e.model&&(v=e.model.nestedFormFields(e,{item:p}));var g=u[e.name]||[];return r.a.createElement(Q,Object.assign({values:p,onChange:function(a){return t.onChangeFieldValue(e,a)},autoSaveTimeout:n,allowAutoSave:i,parentField:e,formFields:v,errors:m[e.name],objectErrors:g,defaultWeight:e.defaultWeight||this.props.defaultWeight},e,{readOnly:d||e.readOnly,name:f}))}return"decimal"===e.type?r.a.createElement(w.c,Object.assign({value:p,onChange:function(a){return t.onChangeFieldValue(e,a)},errors:m[e.name]},e,{readOnly:d||e.readOnly,name:f})):"image"===e.type?r.a.createElement(w.e,Object.assign({value:p,onChange:function(a){return t.onChangeFieldValue(e,a)},errors:m[e.name],onAutoDelete:function(){return s(p)}},e,{readOnly:d||e.readOnly,name:f})):"file"===e.type?r.a.createElement(w.d,Object.assign({value:p,onChange:function(a){return t.onChangeFieldValue(e,a)},errors:m[e.name],onAutoDelete:function(){return s(p)}},e,{readOnly:d||e.readOnly,name:f})):"model"===e.type?r.a.createElement(w.h,Object.assign({value:p,valueId:this.item[e.foreignKey],onChange:function(a){return t.onChangeFieldValue(e,a)},errors:m[e.name]},e,{readOnly:d||e.readOnly,name:f})):"boolean"===e.type?r.a.createElement(w.a,Object.assign({checked:p,onChange:function(a){return t.onChangeFieldValue(e,a)}},e,{readOnly:d||e.readOnly,name:f})):r.a.createElement(r.a.Fragment,null)}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.className;return 0===this.state.formFields.length?r.a.createElement(r.a.Fragment,null):r.a.createElement("div",{className:Object(y.a)(t.root,a)},r.a.createElement(F.a,{container:!0},this.constructFormFieldsGrid()))}},{key:"constructFormFieldsGrid",value:function(){var e=this,t=this.state.formFields,a=this.props,n=a.defaultWeight,i=a.classes;if(0===t.length)return r.a.createElement(r.a.Fragment,null);var o=[],s=12;return t.forEach((function(t){var a=t.weight,l=void 0===a?n:a,u=t.forceNextLine,d=e.formField(t);0===s?s=12:s<l&&(o.push(r.a.createElement(F.a,{item:!0,md:s,key:"".concat(t.name,"_spacer")})),s=12),d=r.a.createElement(F.a,{key:t.name,item:!0,md:l,ref:function(a){e.fieldRefs[t.name]=a}},r.a.createElement("div",{className:i.component},d)),o.push(d),s-=l,u&&(o.push(r.a.createElement(F.a,{item:!0,md:s,key:"".concat(t.name,"_spacer")})),s=0)})),o}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{formFields:Object(c.a)(e.formFields),errorData:Object(m.a)({},e.errorData),readOnly:e.readOnly}}}]),a}(r.a.Component);X.propTypes={formFields:h.a.array.isRequired,item:h.a.object.isRequired,errorData:h.a.object,onItemChange:h.a.func,autoSaveTimeout:h.a.number,allowAutoSave:h.a.bool,defaultWeight:h.a.number,readOnly:h.a.bool},X.defaultProps={autoSaveTimeout:500,allowAutoSave:!1,defaultWeight:12,readOnly:!1};var Z=Object(v.a)((function(e){return Object(m.a)({},{root:{},component:{},formFieldContainer:{marginBottom:20}})}),{withTheme:!0})(X),$=Z,ee=a(44),te=[{key:"USA",value:"usa"},{key:"France",value:"france"},{key:"Germany",value:"germany"}],ae=new(function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"formFields",value:function(){return[{name:"country",displayName:"Country",type:"enum",data:te},{name:"city",displayName:"City",type:"text"},{name:"postalCode",displayName:"Postal code",type:"text"},{name:"street",displayName:"Street",type:"text"},{name:"number",displayName:"Number",type:"text"},{name:"url",displayName:"URL",type:"text"}]}}]),a}(ee.a)),ne=new(function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"formFields",value:function(){return[{name:"firstName",displayName:"First name",type:"text",weight:6},{name:"lastName",displayName:"Last name",type:"text",weight:6}]}}]),a}(ee.a)),re=a(98),ie=a.n(re),oe=[{key:"Mr",value:"mr"},{key:"Ms",value:"ms"},{key:"Mrs",value:"mrs"}],se={fields:{birthPlace:["can't be blank"]}},le={salutation:"mr",firstName:"John",lastName:"Doe",birthDate:"01-12-1985",manager:"",address:{country:"",city:"",postalCode:"",street:"",number:"",url:""}},ue=new(function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"formFields",value:function(){return[{name:"salutation",displayName:"Salutation",displayNamePosition:"above",type:"enum",data:oe,forceNextLine:!0,weight:6},{name:"firstName",displayName:"First name",displayNamePosition:"above",type:"text",weight:6},{name:"lastName",displayName:"Last name",displayNamePosition:"above",type:"text",weight:6},{name:"birthDate",displayName:"Birth date",displayNamePosition:"above",type:"dateTime",format:"DD.MM.YYYY",weight:6},{name:"birthPlace",displayName:"Birth place",displayNamePosition:"above",type:"text",weight:6},{name:"manager",displayName:"Select your manager",displayNamePosition:"above",type:"model",allowClear:!0,clearItem:"No manager",optionDisplayName:function(e){var t=e.first_name,a=e.last_name;return"".concat(t," ").concat(a)},downloader:function(e,t){var a={query:e,valueIds:t},n=new URL("https://reqres.in/api/users");return Object.keys(a).forEach((function(e){return n.searchParams.append(e,encodeURIComponent(a[e]))})),fetch(n).then((function(e){return e.json()})).then((function(e){return e.data}))},weight:6,forceNextLine:!0},{name:"address",type:"nestedModel",weight:12,fields:function(e,t){return ae.formFields({item:t})}},{name:"people",type:"nestedModelsArray",weight:12,itemWeight:12,addText:"Add company person",defaultWeight:6,allowDragDrop:!1,allowDelete:!0,fields:function(e,t){return ne.formFields({item:t})},defaultItem:function(e){return{clientId:ie()()}}}]}}]),a}(ee.a)),de=function(){return r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"React Material Form"),r.a.createElement("p",null,"Form blocks based on @sequenia/react-material-fields"),r.a.createElement("section",{className:"section"},r.a.createElement("h3",null,"Simple model FormFields"),r.a.createElement($,{formFields:ue.formFields(),errorData:se,item:le})))};o.a.render(r.a.createElement(de,null),document.getElementById("root"))}},[[119,1,2]]]);
//# sourceMappingURL=main.5548688d.chunk.js.map